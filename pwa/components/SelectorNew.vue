<template>
  <div id="ng-selector">
    <div class="container">
      <div class="row">
        <div class="col-4">
          <h2>Filtriraj</h2>
          <p>Pretražite različite perspektive istog događaja odabirom jedne od opcija u nastavku.</p>
        </div>
        <div class="col-3">
          <button
            type="button"
            class="toggle"
            :class="{ open: territoriesOpen }"
            @click="
              territoriesOpen = !territoriesOpen
              partiesOpen = false
            "
          >
            <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 1200 1200">
              <path
                d="M1108.8 1128 973.2 622.8a33.49 33.49 0 0 0-32.4-25.2H615.6c61.2-116.4 112.8-235.2 112.8-301.2C728.4 150 609.6 30 462 30a265.8 265.8 0 0 0-266.4 266.4c0 66 51.6 184.8 112.8 301.2h-48c-15.6 0-28.8 10.8-32.4 25.2L91.2 1128c-2.4 9.6 0 20.4 6 28.8 6 8.4 16.8 13.2 26.4 13.2h952.8c10.8 0 20.39-4.8 26.39-13.2 6-8.4 8.4-19.2 6-28.8zM462 97.2c109.2 0 199.2 88.8 199.2 199.2 0 60-67.2 212.4-181.2 409.2-4.8 9.6-14.4 10.8-18 10.8s-12-1.2-18-10.8C331.2 508.8 262.8 356.4 262.8 296.4c0-110.4 90-199.2 199.2-199.2zM285.6 664.8h58.8c14.4 25.2 27.6 50.4 42 73.2 15.6 27.6 44.4 44.4 75.6 44.4 31.2 0 60-16.8 75.6-44.4 13.2-24 27.6-48 42-73.2h90l-91.2 228-357.6 15.6zm-84 310.8 400.8-16.8c13.2 0 25.2-8.4 30-21.6l26.4-66 99.6 56.4 28.8 174H168zm654 127.2L822 902.4c-1.2-9.6-7.2-19.2-16.8-24L684 808.8l57.6-144h172.8l117.6 438z"
              />
              <path
                d="M590.4 296.4c0-70.8-57.6-128.4-128.4-128.4-70.8 0-128.4 57.6-128.4 128.4 0 70.8 57.6 128.4 128.4 128.4 70.8 0 128.4-57.6 128.4-128.4zm-189.6 0c0-33.6 27.6-61.2 61.2-61.2s61.2 27.6 61.2 61.2-27.6 61.2-61.2 61.2c-33.6-1.2-61.2-27.6-61.2-61.2z"
              />
            </svg>
            Teritorije
          </button>
          <button
            type="button"
            class="toggle"
            :class="{ open: partiesOpen }"
            @click="
              partiesOpen = !partiesOpen
              territoriesOpen = false
            "
          >
            <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 1200 1200">
              <path
                d="m1071.2 521.47-92.9 32.35-757.73 263.94-92.9 32.35a24 24 0 1 0 15.8 45.35L1087 566.8a24 24 0 1 0-15.8-45.34zM579.18 779.73l-110.51 191.4c-12.52 21.68 3.13 48.8 28.18 48.8h221.02c25.04 0 40.69-27.12 28.17-48.8l-110.5-191.4a32.22 32.22 0 0 0-28.18-16.26 32.26 32.26 0 0 0-28.18 16.26zm124.09 199.25H511.44l95.91-166.13zM319.63 668.17c0-66.73-54.1-120.83-120.83-120.83-66.73 0-120.83 54.1-120.83 120.83S132.07 789 198.8 789c66.73-.01 120.83-54.1 120.83-120.83zM198.8 748.04c-44.04 0-79.87-35.83-79.87-79.87s35.83-79.87 79.87-79.87c44.04 0 79.87 35.83 79.87 79.87s-35.83 79.87-79.87 79.87zM1122 393.06c0-66.73-54.1-120.83-120.83-120.83-66.73 0-120.83 54.1-120.83 120.83 0 66.73 54.1 120.83 120.83 120.83 66.73 0 120.83-54.1 120.83-120.83zm-120.83 79.88c-44.04 0-79.87-35.84-79.87-79.88s35.83-79.87 79.87-79.87c44.04 0 79.87 35.84 79.87 79.87 0 44.06-35.83 79.88-79.87 79.88z"
              />
            </svg>
            Pristrasnost
          </button>
        </div>
        <div class="col-5">
          <div v-show="territoriesOpen" class="selector-terrirories-container">
            <div class="row">
              <div class="options-container col-6">
                <div v-for="(territoryGroup, i) in territories" :key="i">
                  <span
                    v-for="territory in territoryGroup"
                    :key="territory.name"
                    :class="{ selected: territory.selected }"
                    @click="territory.selected = !territory.selected"
                  >
                    {{ territory.name }}
                  </span>
                </div>
              </div>
              <div class="map-container col-6">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 600">
                  <g id="Bosnia_and_Herzegovina">
                    <path
                      class="st0"
                      d="M500.2,567.1l-2.9-4.2l-1.6-1.2l-3.9,0.2l-7.8-2.7l-4.7-2.6l-24.9-16.8l-7.7-5l-3.3-2.8l-6.1-7l-3.5-2.7
		l-5-1.4l-1.6-1l-4.5-7l-0.3-2.2l0.2-4.7l-0.4-1.9l-1.7-2.2l-1.3,0l-1.1,1l-1.1,0.6l-3-0.5l-6-2.4l-3.1-0.6l-3.2,0.7l-1.9,2
		l-1.8,2.8l-0.1,0l-13.7-8.5l2.5,0.1l3.9,1.8l2.4,0.7l-2.1-2.1l-3.2-1.9l7.7-1.6l4-3l-0.5-5.4l0,0l0,0l0,0l-4.4-10.3l-4.3-5.1
		l4.5-6.3l3.5-8.3l1.5-7.8l-1.7-5l-0.3-0.7l-4.3-4.9l-3.2-0.7l-0.3-0.1l-1.5-4.5l-0.4-1.2l0.4-3.4l1.5-1.6l3.4,0.3l3.2,1.3l3,0.4
		l4,0.6l8.1,0.5l0.4,0h0v-3.9l-1.5-4.3l-0.2-0.6l-0.3-0.7l-1.3-2.7l-1.7-4.2l0-0.6l-0.2-3.8l-0.1-1l-0.4-2.7l-0.6-3.4l-6-1l-2.3-1.6
		h-0.4l-1.5-3.4l-0.8-2.6l-3.2-2.1l-2.6-4.7l-2.1-3.4l-2.2,0.2l-0.8,0.1l-0.1-0.1l-2-1v-1.3l0.2-2.6l0.3-0.2l1-0.6h1.7h3h2.1
		l0.6-0.6l0.4-0.4v-3.1v-3.9l-0.9-1.6l0,0l-1.3-1.8v-1.9v-3.6l-1.1-1.8l-1-1.6l-0.2,0l-3.1-0.3l-1.7,0.4l-0.8,0.2v-1.1l-2.1-2.1
		l-1.7-1.6l-1.9-3.4l-4.4-5.5l-2.2-3.9l-4-1.1h-2.1h-1.5V336v-2.3l-1.5-2.9v-2.6v-3.9l0.1-1.4l0.3-3.8l0.9-2.1l0.4-1l3.6-0.3
		l2.6,1.6l4.2,1.6l0,0l-0.8-2.9l-0.1-0.6l0,0l2.5,0.6l2.9,1.7l3.9,2.4l3.7-0.5l2.9-1l3.6-0.7l6.5,1.7l5.7,3.4l4.8,1.7l5.5-0.7
		l1.1-0.9l2.5-2.2l4.5-1.2h6.9l4.3,0.5l0.9,1.2l0.5,0.7l1.5,3.9l0.7,1.8l4,4.3l0.5,0.1l4.5,1.1l4-0.9l1.2,1.8l1.4,5.6l0.1,0.6
		l0.1,0.4l1.1,5l1,2.6l2.4,2.4l4.6,1l0.8,0.2l1-0.2l3.3-0.7l3,0.4l0.3,0l1,1l3.6,3.5l0,0l2.1,5.5l0.1,3l0.1,1.3l1.6,1.2l4,1.4
		l3.1,2.2l0.5,0.4l0.5,0.1l1.4,0.3l1.7,0.2l0.4,0l0.7-2.6l1.2-2.9l2.7,0.9l0,0l3.3,1.4h4l1.3,0.3l0,0l-1,1l-0.2,0.2l-0.6,5.1
		l0.8,7.6l1.2,6.5l1.4,6.5l-0.6,2.8h-4.9l-14.1-1.4l-12.4,0.5h-10.2l-9.8-0.5L451,400l-0.3,1.4l3.5,5.6l0.6,6.5l0.4,12.6l0.4,17.7
		L454,446l-2.2,2.8l-3.3,1.7l-2.3,3.4l-0.4,3.1l0.4,2.2l2.8,0.3l0.5,0.1l0.7,0.3l2.9,1.1l2.2,2.2l-0.2,4.2l-0.2,3.2l-1.4,5.6l-1,1.1
		l-1.4,1.6l-1.4,3.1l-0.2,7.1l0,1.8l0.1,0.4l1.4,8.3l2.2,7.2l2.5,4.5l0.1,0.3l0.1,0l4.2,3l9,8.1l3.3,3.2l4.1,4l1.2,2.6l0.6,1.3
		l7.6,8l6.9,6.7l4.1,4.1l3.9,1.1l0.2,4.3L500.2,567.1z"
                    />
                    <path
                      class="st0"
                      d="M509.8,570l-2.3-0.9l-5.1-0.6l-2.1-1.4l-0.1-0.1l0.7-9.1l-0.2-4.3l-3.9-1.1l-4.1-4.1l-6.9-6.7l-7.6-8l-0.6-1.3
		l-1.2-2.6l-4.1-4l-3.3-3.2l-9-8.1l-4.2-3l-0.1,0l-0.1-0.3l-2.5-4.5l-2.2-7.2l-1.4-8.3l-0.1-0.4l0-1.8l0.2-7.1l1.4-3.1l1.4-1.6
		l1-1.1l1.4-5.6l0.2-3.2l0.2-4.2l-2.2-2.2l-2.9-1.1l-0.7-0.3l-0.5-0.1l-2.8-0.3l-0.4-2.2l0.4-3.1l2.3-3.4l3.3-1.7l2.2-2.8l1.6-2.2
		l-0.4-17.7l-0.4-12.6l-0.6-6.5l-3.5-5.6l0.3-1.4l0.7-2.8l9.8,0.5h10.2l12.4-0.5l14.1,1.4l1.3,9.4l-2.3,8.8l4.1,4.8l4.6-2.4l5.8,4
		l8.1-1.6l11.6,10.3l6.4,4l4.5,3l3.4,1.7l-6.1,8.7l-2.3,4.9l-1.1,5.9l-0.1,0.4l0.1,5.1l2.6,14.9l-5.8-0.8l-8.5,0.1l-8,1.8l-4.3,4.1
		l-2.7,7.6l0.1,3.4l1.4,3.9l3.4,6.8l0.8,3.7l-1,1.9l-1.8,1.4l-1.4,2.2l0.1,3.4l1.3,4.7l1.9,4.7l5,8.1l2.9,3l2.4,3.2l1.5,5.3
		l-0.1,5.7l-1,2.4l-0.6,1.6l-3,3l-1.5,0.9l-2.9,1.7l1,1.9l0.3,1.7l-0.5,1.2l-1.5,0.2l-1.6-1l-1.7-0.1l-1.6,0.7L509.8,570z"
                    />
                    <path
                      class="st0"
                      d="M618,379.9l-6.8-1.1l-3.6,0.4l-3.8,4.5l-2.8,1.1L598,385l-2.4-0.8l-1.9-2.4l-1.5-2.9l-2-2l-3.2,0.3l-2.1,1.6
		l-3.4,3.8l-2.6,1.3l-1.4,1l-0.8,1.6l0.1,1.7l1.4,1l2.2,0.6l1,0.7l1.9,3l-0.1,1.3l-0.6,1.6l0,1l3.1-0.8l1,0.8l4.9,6.5l4.2,11.8
		l4.3,8.2l-1,0.9l-3.7,0.2l-1.7,0.9l-0.3,0.4l-0.8,1.1l-0.9,1.7l-1.1,1.6l-1.5,1.3l-0.4-1l-0.1-0.2l-2.9-3.8l-1.3-2.2l-0.3-1.6
		l0.1-1.4l-0.1-1.3l-1-1.4l-3.8-2.7l-3.5-1l-8.5,0.8l-2.6,1.3l0.5,0.8l0.8,1.8l0.5,0.8l-3.8,1.2l-18.2,13.4l-2.2,3.2l-4.5-3l-6.4-4
		l-11.6-10.3l-8.1,1.6l-5.8-4l-4.6,2.4l-4.1-4.8l2.3-8.8l-1.3-9.4h4.9l0.6-2.8l-1.4-6.5l-1.2-6.5l-0.8-7.6l0.6-5.1l0.2-0.2l1-1
		l1.1-1.1l5.6,1.2l5.6-5.1h6.5l5.6-0.6l4.3-3.9l0.3,0.1l9.2,7.3l6.3,3.1l9.6,1.4l4.5-1.1l7.5-1.1l5.7-0.8l4.7-2.3l6.3-2.8l4.7-3.7
		l3.5-3.7l4.5-0.8l0.8-2.8l-1.6-5.6l-2.4-3.1l-4.7-1.4h-3.3l-3.3-3.4l7.4-5.1l9.8-3.2l10.4,2.4l4.6,3.2l6.4,0.8l2.9-4.8l-2.9-8
		l0.6-7.2l-1.2-10.4l1.2-3.2l2.3-6.1l4.9,3.8l4.3,5.6l7.6,12.4l14.6,15.8l2.9,6.5l3.4,11l0.2,5.2l-3.7,3.6l-0.6,2.4l-0.3,2.8
		l0.2,2.7l0.7,2.1l1,1l0.4,0.9l-0.3,0.8l-1.1,0.7l-5.4-2.2l-1.7,0.1l-1.8,4.3l-1.2,1.7l-1.1-1.8l-1.2-3.3l-2-3.8l-2.4-3.2l-2.4-1.4
		l-1.5,0.5l-3.3,2.6l-1.7,1l-1.7,0.1l-3.6-0.6l-1.6,0.5l-2,3.3l-1.3,4.4l-1.7,3.3L618,379.9L618,379.9z"
                    />
                    <path
                      class="st0"
                      d="M211.5,83.5l1.6-5.8l2.9-5.4l0.7-1.6l0.3-2.4l-0.3-1.3l0-1.1l1.1-1.9l1.3-0.9l3.7-1.2l1.5-1.1l1.9-3.1
		l4.7-10.4l6.7-4.6l8.3,0.3l28.4,8.5l3.6-0.5l1.8-1.6l0.2-1.5l-0.1-1.8l0.8-2.4l1.4-1.4l1.6-0.7l1.4-1l0.8-2.3l1.1-0.7l1.5-1.7
		l1.2-1.7l0.4-0.9L294,30l1.2,1.2l1.1,4.3l0.2,1.6l-0.1,1.7l0.8,1.1l2.9-0.3l-0.4-1.4l-0.6-1.4l2.1,0.8l1.7,2.2l1.5,1l1.4-2.6
		l0.5,1.6l0.2,1.2l-0.1,1.2l-0.6,1.7l0.9-0.7l2.3-1.5l0.9-0.7l2.8,6.1l6.1,4.6l3.7,1.7l8.9,4.1l1.5-0.9l6.8-0.5l0.6-0.9l2.7-6
		l5.5,3.7l2.7,1.1l4.7,3.1l1.3,1.1l2,1.1l2.6-0.3l4.7-1.5l0.3-0.7l0.4-1.3l0.6-0.8l1.1,0.7l0.8,1.3l0.2,1.2l-0.4,1.1l-1,1.3l1.8,0.6
		l1.7-0.3l3.4-1.8l-1.3,4.2l-0.7,1.3l1.1-0.4l7.2-1l3.1,0.3l1.6-0.2l2.9-1.9l5.3-5.6l3.1-1.6l4.7,0.3l4.2,2.4l3.8,3.8l3.5,4.5
		l-3.7,7.8l0.4,9.7l3,9.1l-0.1,10l-4.2,4l-1.6,6.9l0.2,11.9l4.7,12.6l3.4,6.8l5.3,2.7l10.2-2.8l-5.1,10.5l-2.4,5.7v4.6l3.1,5.7
		l4.9,4.9l3.5,3.4l0.8,5.4v4.9l-0.6,4.9l-3.5,4l-5.1,4l-5.9,3.4l-7.1,4l-4.6,3.5l-0.3,0.2l-6.1-0.3l-12.5,2.3h-9l-5.1-0.3l-2.4-3.1
		l-2.9-2.6l-3.7-6.3l-4.5-3.1l-5.1-0.3h-6.7l-8.2-0.4l-3.9-1.4l-1.8-1.7l-7.4-0.3l-3.5,0.9l-1,5.7l0.6,12l0.6,8.8l2.2,6.8l2.4,6.6
		l3.5,5.4l7.5,9.7l1.4,7.7l-0.8,5.7l-1.2,4.5l-1.4,4.7l0,0.1L327,272l-3.9-0.9l-2-2.6l-0.2-6.3l-0.8-5.1l-3.3-0.9l-3.3-2.3l-2.2-4.3
		l-4.3-1.7l-6.7-4l-7.4-4l-5.7-4.3l-3.3-3.1l-2.7-0.3l-5.1-1.7l-2.7-4.8l-1.8-3.7l-1.6-2.6l-2.2-0.6h-3.5l-3.9-3.1l-8.8-6l-6.1-5.1
		l-4.1-4l-4.4-3.7l-2-1.7l-1.2-3.4l0.6-4l2.9-0.3h5.5l8.6,2.6l10,3.7l8.2,3.2l8-0.6l6.1-0.3l1.2-3.4l1.4-4l1.4-3.4l0.2-11.5v-10
		l-0.6-8.3l-1.2-2.3l-3.7,0.3l-0.8-2.3v-3.4v-8l-1.4-5.2l-5.5-7.8l-6.3-6.3l-5.9-3.7l-7.6-2l-5.3-1.2l-7.8-1.2l-8.4-0.6l-4.5-0.6
		l-10-0.6l-9.4-0.9l-4.5-1.4l-4.1-4.9l-1.4-3.2v-3.5l2.2-3.8l6.7-2.3l3.3-1.4l0.8-2l0.1-1.6l-0.8-1.3L211.5,83.5z"
                    />
                    <path
                      class="st0"
                      d="M133.9,47.8l3.2-2.9l7.7-1.3l13.7,0.4l3.3-0.6l1.6,0.1l1.7,0.9l1.3,1.8l-0.1,1.8l-0.5,1.5l-0.1,0.9l1.2,0.9
		l3.1,0.7l1.8,1.4l2.2,3.6l3,7.9l2.5,3.3l13.1,13.1l4,2.5l5.4,2.4l5.3,1.2l3.5-0.9l0.8-2.8l0.5,0.8l0.8,1.3l-0.1,1.6l-0.8,2
		l-3.3,1.4l-6.7,2.3l-2.2,3.8v3.5l1.4,3.2l4.1,4.9l4.5,1.4l9.4,0.9l10,0.6l4.5,0.6l8.4,0.6l7.8,1.2l5.3,1.2l7.6,2l5.9,3.7l6.3,6.3
		l5.5,7.8l1.4,5.2v8v3.4l0.8,2.3l3.7-0.3l1.2,2.3l0.6,8.3v10l-0.2,11.5l-1.4,3.4l-1.4,4l-1.2,3.4l-6.1,0.3l-8,0.6l-8.2-3.2l-10-3.7
		l-8.6-2.6h-5.5l-2.9,0.3l-0.6,4l1.2,3.4l2,1.7l-1.1,0.7l-3.2,6.1l-2.3,2.9l-7,1.6l-4.7,1.9l-4.9,0.5l-3.2,1.1l-5.1-0.3l-3.4,0.3
		l-2.1,2.9l-0.9,1.9l-1.7,0.8l-3.6-0.5l-1.6,0.7l-0.9,0.4L191,216l-1.5-1.5l-3-1.9l-2.6-0.7l-1.6-0.1l-0.5,0.6l0.1-1.6l0.9-0.8
		l1.2-0.8l0.9-1.4l0-3.1l-1-3.8l-3.5-9.8l-0.8-3.9l-0.9-3.5l-1.7-2.2l-3-0.5l-5.2,2.3l-2.9-0.4l-2.9-3.2l1.1-3.2l2.4-3l0.6-2.6
		l1.2-0.6l0.2-0.2l-0.5-2.7l-0.7-2.5l-1.1-1.9l-1.8-0.9l-3.5-0.5l-1.8-0.6l-1.4-1l-1.9-2.8l-1.1-5l-1.5-2.2l-1.1-0.1l-1.2,0.7
		l-1.2,0.3l-1.1-1.1l-0.5-1.7l-0.4-2.1l-0.5-1.9l-1-1.1l-1.8-0.1l-1,1.3l-0.8,1.7l-1.1,1.3l-1.2,0.4l-2.6,0.2l-1.4,0.5l-2.1,0.3
		l-1.2-1.3l-0.9-2l-1.1-1.8l-3.4-2.3l-0.8-1l-3.6-6l-1.6-3.5l-0.2-3.4l2.1-2.8l2.9-0.9l2.5-1.2l0.7-3.6l-1.3-3.8l-2.3-3.6l-2-4
		l-0.5-5.1l0.5-1.5l0.7-2.1l3.5-6.2l0.5-3.6l-1.7-6.1l0.1-3.8l3.3-8.7l0.6-3.1l-0.5-12l0.1-1.6l1.6-4.4L133.9,47.8z"
                    />
                    <path
                      class="st0"
                      d="M414,65.1l4.5,5.9l2.6,2.4l2.9,1.2l1.4-0.2l4.2-1.8l3.9-0.8l1.2-0.7l2.4-2.2l8.7-10.5l2.1-1.1l2.2,0l2.3,1.2
		l7.9,7.1l3.2,1.5l2.8,0.6l1.7,0l0,0.1l0.2,1.1l2.2,5.6l1.8,2.8l2.6,0.3l2.6,2.2l3.1,3.4l3.5,6.2l3.1,0.6h4.6h3.1l0.7-1.9l1.1-2.5
		l1.1-2.8l4-1.5l4.8-1.9l3.5-1.9l0.9-4.7l1.2-2.6l2,2.2l2.2,1.4l-0.2,2.4l0.4,6.5l2,2.2l4.4,5.3l5.7,4.3l5.7,2.2h6.1l6.1,3.4
		l3.7,3.7l0.4,4.3l2.8,0.6l3.7,0.3l-3,9.5l-5.5-4l-8.6-2.3l-8-0.6l-5.1,2.3l-3.5,0.9l-3.9-0.3l-1.6-2v-2.3l0-4.6l-4.9-1.4l-9-0.4
		l-3.5,1.4L497,108l-2,5.2l-3.1,8.9l-3.5,5.5l-5.7,1.4h-11.2l-6.1,0.6l-5.7,0.9l-1,3.4v5.8l2.2,2.6l5.9,3.2l6.3,2.6l5.9,2.6l7.1,2.6
		l5.9,2l6.3,2l3.9,4.6l0.8,5.2l-0.8,4.6l-7.3,1.7l-6.5-0.3h0h-11l-6.5-0.3l-3.9-0.6l-2.9-4.9l-4.9-10.6l-4.7-8l-4.9-4.6l-5.9-0.9
		l-7.4-0.6l-4.9,1.4l-10.2,2.8L416,144l-3.4-6.8l-4.7-12.6l-0.2-11.9l1.6-6.9l4.2-4l0.1-10l-3-9.1l-0.4-9.7L414,65.1z"
                    />
                    <path
                      class="st0"
                      d="M516.2,74l1.3,0.8l3.7,1.4l3.4,0.1l-0.3-2.8l-0.7-2.5l0.1-1.4l0-0.4l2.1-0.9l1.2,0.1l2.3,0.6l1.2,0l1-0.4
		l2-1.2l0.9-0.2l1.1,0.5l0.6,0.9l1,2.6l0.8,1.6l1,1.3l1.2,0.5l1.3-0.7l0.4-1l0.3-1.2l0.4-1.2l0.8-0.8l1-0.1l0.8,0.5l0.7,0.9
		l5.3,10.9l1.7,2.1l1.7,0.7l4,0.4l1,0.4l0.6,0.6l0.4,0.8l0.4,1.2l0.1,0.4V90l0.1,0.6l0.3,0.6l0.7,1l0.2,0.7l-0.4,2l-3.1,2.4l-1,2
		l1.5,5.8l4.9,5.3l3.5,2.3l-0.3,0.7l-0.7,2.6l-4.2,3.7h-3.5v-2.2l0.4-4l-0.7-2.8l-1.5-1.2l-3.7-0.3l-2.8-0.6l-0.4-4.3l-3.7-3.7
		l-6.1-3.4h-6.1l-5.7-2.2l-5.7-4.3l-4.4-5.3l-2-2.2l-0.4-6.5L516.2,74z M467.9,67.8l1.4,0l3-0.6l2.5-1.6l1-2.1L476,61l0.3-2.5l1.6-2
		l3.5-0.7l3.4,1.4l6.5,4.7l2.1,0.9l10.1,0.9l2.7,1.3l2.5,2.1l3.2,3.5l-1.2,2.6l-0.9,4.7l-3.5,1.9l-4.8,1.9l-4,1.5l-1.1,2.8l-1.1,2.5
		l-0.7,1.9h-3.1H487l-3.1-0.6l-3.5-6.2l-3.1-3.4l-2.6-2.2l-2.6-0.3l-1.8-2.8l-2.2-5.6L467.9,67.8L467.9,67.8z"
                    />
                    <path
                      class="st0"
                      d="M567.6,112.5l2.4,1.6l4.4,1.5l12.2-0.3l0.1,3.9l-2.2,1.6l-3.2,1.5l-2.2,3.5l-1.8,5.4l-3.3,2.5l-7.1,0.6
		l-2.2,1.6l-2.5,3.2l-4.1-0.3l-1-3.4l-0.8-8.1l-2-8.3l3-9.5l1.5,1.2l0.7,2.8l-0.4,4v2.2h3.5l4.2-3.7l0.7-2.6L567.6,112.5z"
                    />
                    <path
                      class="st0"
                      d="M586.5,115.2l4.3-0.1l1.5-0.5l4.6-1.4l2.9-0.4l2.3-0.8l12.8-9.4l1.8-0.4l0.9,1.2l0.5,1.7l0.7,1h1.4l2.5-1.1
		l1.4-0.3l6.3,1.4l1.3-0.2l1.2-0.6h1.3l2.9,2.7l1.4,0.5l1.4-0.2l0.4-0.2l0-0.2l0.5,0.6l0.8,1l0.8,0.8l0.6,1.1l0.4,1.7l0.1,2
		l-0.5,0.6l-0.8,0.2l-0.6,0.9l-5,24.3l-1.5,3.7l-1.4,2.1l-2.9,2.4l-1.5,1.6l-1.1,1.9l-2,6l-6.7,11.5l-0.6,0.7l-1.5,0.9l-0.7,0.9
		l-0.3,1.3l0.1,3.2l-0.3,1.4l-0.8,1.6l-1.6-3.3l-3-4l-4.6-3.2l-2.3-0.6l-3.5,1.3l-3.9,2.8l-2.3,1.3l-0.2-10l-1-3.2l-5.1-1.1
		l-5.1,1.1l-1.8,3.2l-2.7,6.3l-4.1,7.2l-3.3,1.7h-2.9l-2.2-2l-7.8-9.2L553,163l-1.4-4l0.2-4.6l1.6-2.3l4.1-2.6l3.9-2.6l1-4.6
		l-0.2-3.4l2.5-3.2l2.2-1.6l7.1-0.6l3.3-2.5l1.8-5.4l2.2-3.5l3.2-1.5l2.2-1.6L586.5,115.2z"
                    />
                    <path
                      class="st0"
                      d="M237.3,294l-1.6-2.3l-2.2-2.6l-2.5-1.9l-6.3-2.3l-1.2-2.3l-0.6-2.9l-1.8-3l-1.4-0.6l-3.7,0.3l-1.5-0.2
		l-1.4-0.8l-1.6-1.3l-2.7-2.8l-2.1-3.5l-3.2-7.8l-2.1-3.6l-6.2-6.7l-2.3-3.4l-2.7-8.6l-1.4-6.2l-0.1-3l0.4-2.2l1.4-3.2l0.5-1.7
		l0.4-3.3l0-0.1l0.9-0.4l1.6-0.7l3.6,0.5l1.7-0.8l0.9-1.9l2.1-2.9l3.4-0.3l5.1,0.3l3.2-1.1l4.9-0.5l4.7-1.9l7-1.6l2.3-2.9l3.2-6.1
		l1.1-0.7l4.4,3.7l4.1,4l6.1,5.1l8.8,6l3.9,3.1h3.5l2.2,0.6l1.6,2.6l1.8,3.7l2.7,4.8l5.1,1.7l2.7,0.3l3.3,3.1l5.7,4.3l7.4,4l6.7,4
		l4.3,1.7l2.2,4.3l3.3,2.3l3.3,0.9l0.8,5.1l0.2,6.3l2,2.6l3.9,0.9l13.3,2.3l0-0.1l0.9,2.7l2.5,4.5l2.6,2.9l0.9,2.1l0.2,2.6l1.7,3.1
		l0.4,0.8l1.3,1.6l0.8,4.2l1.5,1.6l2.5,2.9l2.4,2.4l3.6,0.3l4,0.3l4,6.3l0.8,3.1h0l0.1,0.6l0.8,2.9l0,0l-4.2-1.6l-2.6-1.6l-3.6,0.3
		l-0.4,1l-0.9,2.1l-0.3,3.8l-0.1,1.4v3.9v2.6l1.5,2.9v2.3v2.1h1.5h2.1l4,1.1l2.2,3.9l4.4,5.5l1.9,3.4l1.7,1.6l2.1,2.1v1.1l0,2
		l-0.6,4.2l-2.1,2.6l-1.9,3.6l-3.2,1l-4.9,1h-4l-3.2,0.5l-4.7,2.6l-3.4,2.1l-5.1,2.3h-3.8l-1.7-1.8l-0.9-2.4l-3.4-1l-2.3,1.8
		l-6.4,1.8h-7.4l-1.4,0.5l-6.4,3.1l-4.5-4.1l-6.9-8.1l-22.6-23.2l-15.9-12.7l-2-3.3l-1.2-4.2L260,322l-1.1-2.9l-5.9-5.5l-4.6-6.5
		l-7-7.2L237.3,294z"
                    />
                    <path
                      class="st0"
                      d="M369.1,455.4l-1.3-0.8l-2.2-2.6l-1.7-3.8l-1.2-4l-0.9-2.1l-1.5-1.4l-2.9-1.9l-5.8-5.4l-5.5-8.4l-3.2-9.8
		l2.7-16.5l-2.3-5.1l-4.4-3l-13.8-2.1l-8.3-4.7l-3.2-2.9l6.4-3.1l1.4-0.5h7.4l6.4-1.8l2.3-1.8l3.4,1l0.9,2.4l1.7,1.8h3.8l5.1-2.3
		l3.4-2.1l4.7-2.6l3.2-0.5h4l4.9-1l3.2-1l1.9-3.6l2.1-2.6l0.6-4.2l0-2l0.8-0.2l1.7-0.4l3.1,0.3l0.2,0l1,1.6l1.1,1.8v3.6v1.9l1.3,1.8
		l0,0l0.9,1.6v3.9v3.1l-0.4,0.4l-0.6,0.6h-2.1h-3h-1.7l-1,0.6l-0.3,0.2l-0.2,2.6v1.3l2,1l0.1,0.1l0.8-0.1l2.2-0.2l2.1,3.4l2.6,4.7
		l3.2,2.1l0.8,2.6l1.5,3.4h0.4l2.3,1.6l6,1l0.6,3.4l0.4,2.7l0.1,1l0.2,3.8l0,0.6l1.7,4.2l1.3,2.7l0.3,0.7l0.2,0.6l1.5,4.3v3.9h0
		l-0.4,0l-8.1-0.5l-4-0.6l-3-0.4l-3.2-1.3l-3.4-0.3l-1.5,1.6l-0.4,3.4l0.4,1.2l1.5,4.5l0.3,0.1l3.2,0.7l4.3,4.9l0.3,0.7l1.7,5
		l-1.5,7.8l-3.5,8.3l-4.5,6.3l-1.5-1.8L369.1,455.4z"
                    />
                    <path
                      class="st0"
                      d="M615.8,180.4l-0.9,1.4l-1.1,1l-5,1.7l-0.4,3.2l2.3,8.9l-0.3,5.5l-1.7,2.9l-2,2.5l-1.2,4.2l0.3,3.8l1.1,4
		l3.2,6.9l2.6,3.1l2.9,1.3l6.1,1.3l2.9,1.5l1.3,0.4l2,0.1l4.6-1.1l1.6,0.3l2.4,2l2.5,3.6l1.8,4.3l0.3,4l0.9,2.6l2.7,2.8l6.2,4.6
		l1.5,1.5l1,0.6l0.8-0.2l1.6-1.6l0.9,0l1.2,1.6l0.3,3.6l0.9,1.3l2.2,2.1l2.6,3.8l0.8,1.2l4.6,2.7l2.3,2.9l1.3,1.1l0.5-0.6l0.9-1.2
		l1.3-0.5l1.8,1.6l1.1,3.7l-1.2,3.3l-2.4,2.7l-5.9,4.4l-3.4,1.2l-3.5,0.3l-8.1-0.8l-7.6,0.5l-2.1,0.6l-2.1,0.1l-1.8-1.2l-3.7-3.5
		l-3.6-2.6l-1.9-0.7l-2.1,0.1l-2.9,1l-1.2,1.1l-0.8,1.9l0,1.4l0.7,2.5l-0.3,1.4l-1.6,1.6l1.7,1.1l-2.3,6.1l-7-8.1l-6.9-7.2
		l-17.4-9.7l-13.9-8.9l-12.2-3.2l-12.4-2.4l1.8-3.7l1.9-2l0.3-0.3l3.1-6l0.8-6.8l-1.4-6.3l-2-5.4l-2.2-5.1l-1-8.3l1.2-3.4l3.3-0.6
		l4.3-2.6l2.7-3.7l1.8-4.9l6.3-1.7l5.7-0.3l3.7-2.3l4.1-3.4l2.5-1l3.7-3.2l1.2-2.9l0.4-13.7l0-1.7l2.3-1.3l3.9-2.8l3.5-1.3l2.3,0.6
		l4.6,3.2l3,4L615.8,180.4z"
                    />
                    <path
                      class="st0"
                      d="M340.3,274.1l1.4-4.7l1.2-4.5l0.8-5.7l-1.4-7.7l-7.5-9.7l-3.5-5.4l-2.4-6.6l-2.2-6.8l-0.6-8.8l-0.6-12l1-5.7
		l3.5-0.9l7.4,0.3l1.8,1.7l3.9,1.4l8.2,0.4h6.7l5.1,0.3l4.5,3.1l3.7,6.3l2.9,2.6l2.4,3.1l5.1,0.3h9l12.5-2.3l6.1,0.3l0.3-0.2l1.3,3
		l1.5,4.6l2.8,2.9l2.9,3.6l0.5,3.6l-0.7,8.4l0.3,10.4l1.7,4.8l4.8,4.6l3.6,3.6l4.1-0.7l2.4,0.5v2.9l1.2,4.6l0.9,3.1l2.8,1.7h2.4h1.5
		l1.7,1.9l0.7,4.3l1,6h2.2l4.1-0.2l1.2,1.2l0.3,2.9l-0.3,1.9l1.5,2.2v1.9h1.7h1.2l1.2,1.4l3.5,5.8l1.2,2.9h1.7l1.7-0.4l1.3,1.4
		l1.2,6.2l0.2,3.3l-0.7,1.9l-1.9,1.9l-3.1,1.2l-4.5,3.3l-4.5,1.7l-5.5,0.5l-1.7,2.2l-0.7,2.4l0,0l0,0l-4,0.9l-4.5-1.1l-0.5-0.1
		l-4-4.3l-0.7-1.8l-1.5-3.9l-0.5-0.7l-0.9-1.2l-4.3-0.5h-6.9l-4.5,1.2l-2.5,2.2l-1.1,0.9l-5.5,0.7l-4.8-1.7l-5.7-3.4l-6.5-1.7
		l-3.6,0.7l-2.9,1l-3.7,0.5l-3.9-2.4l-2.9-1.7l-2.5-0.6l0,0h0l-0.8-3.1l-4-6.3l-4-0.3l-3.6-0.3l-2.4-2.4l-2.5-2.9l-1.5-1.6l-0.8-4.2
		l-1.3-1.6l-0.4-0.8l-1.7-3.1l-0.2-2.6l-0.9-2.1l-2.6-2.9l-2.5-4.5L340.3,274.1z"
                    />
                    <path
                      class="st0"
                      d="M409.3,212.9l4.6-3.5l7.1-4l5.9-3.4l5.1-4l3.5-4l0.6-4.9v-4.9l-0.8-5.4l-3.5-3.4l-4.9-4.9l-3.1-5.7v-4.6
		l2.4-5.7l5.1-10.5l4.9-1.4l7.4,0.6l5.9,0.9l4.9,4.6l4.7,8l4.9,10.6l2.9,4.9l3.9,0.6l6.5,0.3h11v2.6l-0.2,3.9v2.9l1.2,3.4l0.2,4.8
		v4.1v4.1l1.4,4.1l2.2,1.7l7.1-0.2l2.1,1.4l1,3.9v3.6l1.7,4.1l3.6,4.1l3.5,0.7l4.8,2.4l2.8,2.4l1.2,7l2.1,7v5.8l0.7,1l3.1,0.7h4
		l1.4,4.1l2.9,1.2l9.8-0.5h7.9l3.4,4.8l-1.9,2l-1.8,3.7l-4.7,4.3l-6.3,6.5l-5.1,3.1l-5.3,0.2l-0.8-1.5l-3.5-0.7l-2.4-1.7l-1.4-2.6
		l-2.2-3.4l-2.2-1.9l-2.9-0.5h-2.4h-2.9l-0.5,0.7l-1.6,1.9l-1.9,3.6l-2.4,1.9h-2.8h-3.6l-1.7,1.4l-0.2,2.9l0.2,6.5l-1.7,2.2l-4,2.2
		l-5.7,0.2l-4.8-0.2l-4.3,1.4l-1,3.8v5.3l-1.2,1.9l-2.1,1h-1.5l-1.7,1.7l0.3,1.9l0.3,0.3l-1.7,0.4H465l-1.2-2.9l-3.5-5.8l-1.2-1.4
		h-1.2h-1.7v-1.9l-1.5-2.2l0.3-1.9l-0.3-2.9l-1.2-1.2l-4.1,0.2H447l-1-6l-0.7-4.3l-1.7-1.9H442h-2.4l-2.8-1.7l-0.9-3.1l-1.2-4.6
		v-2.9l-2.4-0.5l-4.1,0.7l-3.6-3.6l-4.8-4.6l-1.7-4.8l-0.3-10.4l0.7-8.4l-0.5-3.6l-2.9-3.6l-2.8-2.9l-1.5-4.6L409.3,212.9z"
                    />
                    <path
                      class="st0"
                      d="M488.4,172.9L488.4,172.9l6.6,0.3l7.3-1.7l0.8-4.6l-0.8-5.2l-3.9-4.6l-6.3-2l-5.9-2l-7.1-2.6l-5.9-2.6
		l-6.3-2.6l-5.9-3.2l-2.2-2.6v-5.8l1-3.4l5.7-0.9l6.1-0.6h11.2l5.7-1.4l3.5-5.5l3.1-8.9l2-5.2l3.7-2.6l3.5-1.4l9,0.4l4.9,1.4l0,4.6
		v2.3l1.6,2l3.9,0.3l3.5-0.9l5.1-2.3l8,0.6l8.6,2.3l5.5,4l2,8.3l0.8,8.1l1,3.4l4.1,0.3l0.2,3.4l-1,4.6l-3.9,2.6l-4.1,2.6l-1.6,2.3
		l-0.2,4.6l1.4,4l5.5,5.4l7.8,9.2l2.2,2h2.9l3.3-1.7l4.1-7.2l2.7-6.3l1.8-3.2l5.1-1.1l5.1,1.1l1,3.2l0.2,10l0,1.7l-0.4,13.7
		l-1.2,2.9l-3.7,3.2l-2.5,1l-4.1,3.4l-3.7,2.3l-5.7,0.3l-6.3,1.7l-1.8,4.9l-2.7,3.7l-4.3,2.6l-3.3,0.6l-1.2,3.4l1,8.3l2.2,5.1l2,5.4
		l1.4,6.3l-0.8,6.8l-3.1,6l-0.3,0.3l-3.4-4.8H545l-9.8,0.5l-2.9-1.2l-1.4-4.1h-4l-3.1-0.7l-0.7-1V241l-2.1-7l-1.2-7l-2.8-2.4
		l-4.8-2.4l-3.5-0.7l-3.6-4.1l-1.7-4.1v-3.6l-1-3.9l-2.1-1.4l-7.1,0.2l-2.2-1.7l-1.4-4.1v-4.1v-4.1l-0.2-4.8l-1.2-3.4v-2.9l0.2-3.9
		L488.4,172.9L488.4,172.9z"
                    />
                    <path
                      class="st0"
                      d="M531.2,277.9l5.3-0.2l5.1-3.1l6.3-6.5l4.7-4.3l12.4,2.4l12.2,3.2l13.9,8.9l17.4,9.7l6.9,7.2l7,8.1l-1.2,3.2
		l1.2,10.4l-0.6,7.2l2.9,8l-2.9,4.8l-6.4-0.8l-4.6-3.2l-10.4-2.4l-9.8,3.2l-7.4,5.1l-3.5-4.2l-6.7-1.1l-13.5-0.3l-6.3,0.8l-2.9,3.7
		l-1.4,6.5l-2.4,4.8l-2.7,2.5l-5.3-0.3l-3.5-0.6l-0.5-0.4l-7.1-5.3l-5.9-2.5l-4.5-2.3l-6.1-0.3l-3.9-0.3l-1.8-3.4l-3.9-6.8l-0.4-4.5
		l-0.4-4l1.8-1.1l5.9,0.6l3.9,0.8l4.3-0.6l2.2-2l1.2-2.5v-6.2l-0.4-6l-0.8-7.1l0.2-4.8l1.4-2.8l4.3-3.4l4.3-3.7l1-4.1L531.2,277.9z
		 M503.1,367.9l1-6.1l0.6-8.2l1.6-4.8h4.3h2.9l4.1,2.8l3.5,3.4l4.7,2.3l4.8,2.1l-4.3,3.9l-5.6,0.6h-6.5l-5.6,5.1L503.1,367.9z"
                    />
                    <path
                      class="st0"
                      d="M531.2,277.9l-1.5,0.1l-1,4.1l-4.3,3.7l-4.3,3.4l-1.4,2.8l-0.2,4.8l0.8,7.1l0.4,6v6.2l-1.2,2.5l-2.2,2
		l-4.3,0.6l-3.9-0.8l-5.9-0.6l-1.8,1.1l0.4,4l0.4,4.5l3.9,6.8l1.8,3.4l3.9,0.3l6.1,0.3l4.5,2.3l5.9,2.5l7.1,5.3l-0.4,0.4l-1.7,1.9
		l-1.2,2.9l-0.5,2.4l0.1,1.7l-4.8-2.1l-4.7-2.3l-3.5-3.4l-4.1-2.8h-2.9h-4.3l-1.6,4.8l-0.6,8.2l-1,6.1l-1.1,1.1l0,0l-1.3-0.3h-4
		l-3.3-1.4l0,0l-2.7-0.9l-1.2,2.9l-0.7,2.6l-0.4,0l-1.7-0.2l-1.4-0.3l-0.5-0.1l-0.5-0.4l-3.1-2.2l-4-1.4l-1.6-1.2l-0.1-1.3l-0.1-3
		l-2.1-5.5l0,0l-3.6-3.5l-1-1l-0.3,0l-3-0.4l-3.3,0.7l-1,0.2l-0.8-0.2l-4.6-1l-2.4-2.4l-1-2.6l-1.1-5l-0.1-0.4l-0.1-0.6l-1.4-5.6
		l-1.2-1.8l0,0l0,0l0.7-2.4l1.7-2.2l5.5-0.5l4.5-1.7l4.5-3.3l3.1-1.2l1.9-1.9l0.7-1.9l-0.2-3.3l-1.2-6.2l-1.3-1.4l-0.3-0.3l-0.3-1.9
		l1.7-1.7h1.5l2.1-1l1.2-1.9v-5.3l1-3.8l4.3-1.4l4.8,0.2l5.7-0.2l4-2.2l1.7-2.2l-0.2-6.5l0.2-2.9l1.7-1.4h3.6h2.8l2.4-1.9l1.9-3.6
		l1.6-1.9l0.5-0.7h2.9h2.4l2.9,0.5l2.2,1.9l2.2,3.4l1.4,2.6l2.4,1.7l3.5,0.7L531.2,277.9z"
                    />
                    <path
                      class="st0"
                      d="M534.3,350.2l0.5,0.4l3.5,0.6l5.3,0.3l2.7-2.5l2.4-4.8l1.4-6.5l2.9-3.7l6.3-0.8l13.5,0.3l6.7,1.1l3.5,4.2
		l3.3,3.4h3.3l4.7,1.4l2.4,3.1l1.6,5.6l-0.8,2.8l-4.5,0.8l-3.5,3.7l-4.7,3.7l-6.3,2.8l-4.7,2.3l-5.7,0.8l-7.5,1.1l-4.5,1.1l-9.6-1.4
		l-6.3-3.1l-9.2-7.3l-0.3-0.1l-0.1-1.7l0.5-2.4l1.2-2.9l1.7-1.9L534.3,350.2z"
                    />
                  </g>
                </svg>
              </div>
            </div>
            <div class="confirm">
              <button type="button" @click="territoriesOpen = false">
                Potrdi
                <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 1200 1200">
                  <path
                    d="M600 0C268.65 0 0 268.65 0 600s268.65 600 600 600 600-268.65 600-600S931.35 0 600 0zm-75 823.8L299.48 598.27l106.05-106.05L525 611.7l269.48-269.48 106.05 106.05z"
                  />
                </svg>
              </button>
            </div>
          </div>
          <div v-show="partiesOpen" class="selector-party-container">
            <div class="labels">
              <span>Negativno</span>
              <span>Pozitivno</span>
            </div>
            <div v-for="party in parties" :key="party.name" class="selector-party" :class="`slant-${party.slant}`">
              <div class="line">
                <div class="line-left" @click="party.slant = 1"></div>
                <div class="line-right" @click="party.slant = 3"></div>
              </div>
              <div class="selector-party-name" @click="party.slant = 2">
                {{ party.name }}
              </div>
            </div>
            <div class="confirm">
              <button type="button" @click="partiesOpen = false">
                Potrdi
                <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 1200 1200">
                  <path
                    d="M600 0C268.65 0 0 268.65 0 600s268.65 600 600 600 600-268.65 600-600S931.35 0 600 0zm-75 823.8L299.48 598.27l106.05-106.05L525 611.7l269.48-269.48 106.05 106.05z"
                  />
                </svg>
              </button>
            </div>
          </div>
          <div v-if="!territoriesOpen && !partiesOpen">
            <div>
              <span v-for="territory in selectedTerritories" :key="territory.name" class="selected-territory">
                {{ territory.name }}
                <svg
                  class="close"
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 1200 1200"
                  @click="territory.selected = false"
                >
                  <path
                    fill="#0153b2"
                    d="M1170.6 1057.9a36.76 36.76 0 0 1 0 51.8l-60.84 60.82a36.74 36.74 0 0 1-51.8 0L600.02 712.58l-457.94 457.94a36.74 36.74 0 0 1-51.8 0l-60.82-60.82a36.74 36.74 0 0 1 0-51.8L487.4 599.96 29.46 142.02a36.73 36.73 0 0 1 0-51.8L90.28 29.4a36.74 36.74 0 0 1 51.8 0l457.94 457.94L1057.96 29.4a36.73 36.73 0 0 1 51.8 0l60.84 60.83a36.77 36.77 0 0 1 0 51.8L712.65 599.96z"
                  />
                </svg>
              </span>
            </div>
            <div>
              <span v-for="party in selectedParties" :key="party.name" class="selected-party">
                <svg v-if="party.slant === 1" class="thumbs" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 1200">
                  <path
                    d="M120 153.49h261.82v523.63H120zm959.6 342.05c-3.8 37.85-38.46 65.22-76.5 65.22h-24.95c42.64 0 76.7 36.7 72.35 80.23-3.8 37.85-38.46 65.22-76.5 65.22H728.38c-15.91 0-28.73 12.83-29.07 28.74-3.24 145.79-26.5 223.64-33.69 253.48-8.15 33.79-27.98 60.82-63.32 57.85-30.1-2.53-52.78-29.28-52.84-59.5-.3-175.8-48.53-251.1-91.08-305.07l.27.03c-11.49-12.87-18.67-29.66-18.67-48.24V226.22a72.73 72.73 0 0 1 72.72-72.73h433.71c33.4 0 64.5 21.37 72.89 53.7 6.78 26.09-.91 50.2-16.23 67.33 27.84 10.2 47.8 36.7 47.8 68.06a72.73 72.73 0 0 1-72.73 72.73h29.1a72.75 72.75 0 0 1 72.35 80.23z"
                  />
                </svg>
                <svg v-if="party.slant === 3" class="thumbs" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 1200">
                  <path
                    d="M120 522.88h261.82v523.63H120zm959.6 181.58c-3.8-37.85-38.46-65.22-76.5-65.22h-24.95c42.64 0 76.7-36.7 72.35-80.23-3.8-37.85-38.46-65.22-76.5-65.22H728.38c-15.91 0-28.73-12.83-29.07-28.74-3.24-145.79-26.5-223.64-33.69-253.48-8.15-33.79-27.98-60.82-63.32-57.85-30.1 2.53-52.78 29.28-52.84 59.5-.3 175.8-48.53 251.1-91.08 305.07l.27-.03c-11.49 12.87-18.67 29.66-18.67 48.24v407.27a72.73 72.73 0 0 0 72.73 72.73h433.7c33.41 0 64.5-21.37 72.9-53.7 6.77-26.09-.92-50.2-16.24-67.33 27.84-10.2 47.8-36.7 47.8-68.06a72.73 72.73 0 0 0-72.72-72.73h29.09a72.74 72.74 0 0 0 72.35-80.23z"
                  />
                </svg>
                {{ party.name }}
                <svg class="close" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 1200" @click="party.slant = 2">
                  <path
                    fill="#0153b2"
                    d="M1170.6 1057.9a36.76 36.76 0 0 1 0 51.8l-60.84 60.82a36.74 36.74 0 0 1-51.8 0L600.02 712.58l-457.94 457.94a36.74 36.74 0 0 1-51.8 0l-60.82-60.82a36.74 36.74 0 0 1 0-51.8L487.4 599.96 29.46 142.02a36.73 36.73 0 0 1 0-51.8L90.28 29.4a36.74 36.74 0 0 1 51.8 0l457.94 457.94L1057.96 29.4a36.73 36.73 0 0 1 51.8 0l60.84 60.83a36.77 36.77 0 0 1 0 51.8L712.65 599.96z"
                  />
                </svg>
              </span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>
<script>
import { TERRITORIES, PARTIES } from '../constants'

export default {
  name: 'SelectorNew',
  data() {
    return {
      territoriesOpen: false,
      partiesOpen: false,
      territories: TERRITORIES.map((group, gi) =>
        group.map((t, i) => ({ name: t.name, selected: false, svgIndex: t.svgIndex }))
      ),
      parties: PARTIES.map((p) => ({ name: p, slant: 2 })),
    }
  },
  computed: {
    selectedParties() {
      return this.parties.filter((p) => p.slant !== 2)
    },
    selectedTerritories() {
      return this.territories.flat().filter((t) => t.selected)
    },
  },
  watch: {
    selectedTerritories(values) {
      const outlines = document.querySelectorAll('.map-container svg .st0')

      for (const o of outlines) {
        o.classList.remove('selected')
      }

      for (const v of values) {
        outlines[v.svgIndex]?.classList.add('selected')
      }
    },
  },
}
</script>

<style lang="scss" scoped>
@import '@/assets/style/variables';

#ng-selector {
  position: fixed;
  bottom: 0;
  left: 0;
  width: 100%;
  background-color: white;
  box-shadow: 0 0 10px 0 rgba(0, 0, 0, 0.25);
  display: flex;
  align-items: center;
  z-index: 99999;
  padding: 20px 0;

  h2 {
    font-size: 24px;
    font-weight: 900;
    font-style: italic;
  }

  p {
    margin-bottom: 0;
    line-height: 1.2;
  }

  .toggle,
  .confirm button {
    display: flex;
    align-items: center;
    padding: 4px 28px 6px 20px;
    margin-bottom: 6px;
    background: white;
    border: 2px solid #0153b2;
    border-radius: 5rem;
    font-size: 18px;
    font-weight: 600;
    color: #0153b2;

    &.open {
      background-color: #0153b2;
      color: white;
    }

    svg {
      width: 21px;
      height: 21px;
      margin-right: 8px;
    }
  }

  .selector-party-container {
    padding: 8px 12px;
    border: 1px solid #a8a5a9;
    border-radius: 6px;

    .labels {
      display: flex;
      justify-content: space-between;
      font-size: 12px;
      font-style: italic;
    }

    .selector-party {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 100%;
      position: relative;
      margin-bottom: 6px;

      .line {
        position: absolute;
        top: 12px;
        left: 0;
        right: 0;
        height: 3px;
        background: #333;
        z-index: 1;

        .line-left,
        .line-right {
          position: absolute;
          left: 0;
          top: -6px;
          bottom: -6px;
          width: 15px;
          background: #333;
          border-radius: 50%;
          cursor: pointer;
        }

        .line-right {
          left: auto;
          right: 0;
        }
      }

      .selector-party-name {
        border: 1px solid #333;
        border-radius: 5rem;
        background: white;
        padding: 0 10px;
        position: relative;
        z-index: 1;
        cursor: pointer;
      }

      &.slant-1 {
        justify-content: flex-start;

        .selector-party-name {
          background-color: #0153b2;
          color: #fff;
        }
      }

      &.slant-3 {
        justify-content: flex-end;

        .selector-party-name {
          background-color: #0153b2;
          color: #fff;
        }
      }
    }
  }

  .selector-terrirories-container {
    padding: 8px 12px;
    border: 1px solid #a8a5a9;
    border-radius: 6px;

    .options-container {
      span {
        display: inline-block;
        border: 1px solid #333;
        border-radius: 5rem;
        background: white;
        padding: 0 10px;
        position: relative;
        z-index: 1;
        cursor: pointer;
        margin-right: 6px;
        margin-bottom: 6px;

        &.selected {
          background-color: #0153b2;
          color: #fff;
        }
      }
    }

    .map-container {
      svg {
        .st0 {
          fill: #ffffff;
          stroke: #949494;
          stroke-width: 4;
          stroke-linecap: round;
          stroke-linejoin: round;

          &.selected {
            fill: #0153b2;
          }
        }
      }
    }
  }

  .confirm button {
    margin: 0 auto;
    padding: 2px 16px 4px 20px;
    font-size: 16px;

    svg {
      margin-right: 0;
      margin-left: 8px;
    }
  }

  .selected-party,
  .selected-territory {
    display: inline-flex;
    align-items: center;
    border: 1px solid #333;
    border-radius: 5rem;
    background: white;
    padding: 0 10px;
    margin-right: 6px;
    margin-bottom: 6px;
    cursor: default;

    svg.close {
      width: 14px;
      height: 14px;
      margin-left: 8px;
      cursor: pointer;
    }

    svg.thumbs {
      width: 14px;
      height: 14px;
      margin-right: 8px;
    }
  }
}
</style>
